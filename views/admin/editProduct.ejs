<%-include('../partials/adminHeader.ejs') %>

<div class="container-fluid">
  <div class="row h-100 align-items-center justify-content-center">
    <div class="col-12 col-sm-8 col-md-6 col-lg-5 col-xl-8">
      <div class="bg-light rounded p-4 p-sm-5 my-4 mx-3">
        <div class="d-flex align-items-center justify-content-between mb-3">
          <a href="" class="">
            <h3 class="text-primary">
              <i class="fa fa-user-edit me-2"></i>Edit Product
            </h3>
          </a>
        </div>
        <form
          action="/admin/editproduct"
          method="post"
          enctype="multipart/form-data"
        >
          <div class="form-floating mb-3">
            <input
              type="text"
              class="form-control"
              id="floatingInput"
              name="name"
              value="<%=product.name%>"
              placeholder="Product Name"
            />
            <label for="floatingInput">Product Name</label>
          </div>
          <div class="form-floating mb-3">
            <input
              type="number"
              class="form-control"
              id="floatingInput"
              name="price"
              value="<%=product.price%>"
              placeholder="Price"
              
            />
            <label for="floatingInput">Price</label>
          </div>
          <div class="form-floating mb-3">
            <input
              type="number"
              class="form-control"
              id="floatingInput"
              name="stock"
              value="<%=product.stock%>"
              placeholder="Price"
              
            />
            <label for="floatingInput">Stock</label>
          </div>
          <div class="form-floating mb-3">
            <select
              type="text"
              class="form-select"
              name="brand"
              id="floatingSelect"
              value="<%=product.brand%>"
              aria-label="Floating label select example"
            >
              <option selected><%=product.brand%></option>
              <option value="Allen solly">Allen solly</option>
              <option value="Jockey">Jockey</option>
              <option value="Peter England">Peter England</option>
              <option value="Raymond">Raymond</option>
              <option value="Levi's">Levi's</option>
              <option value="Louis Philippe">Louis Philippe</option>
            </select>
            <label for="floatingSelect">Brand Name</label>
          </div>
          <div class="form-floating mb-3">
            <select type="text" class="form-select" name="gender"  id="floatingSelect" value="<%=product.gender%>"
              aria-label="Floating label select example">
              <option selected><%=product.gender%></option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
            </select>
            <label for="floatingSelect">Gender</label>
          </div>

          <div class="form-floating mb-3">
            <select
              type="text"
              class="form-select"
              name="category"
              id="floatingSelect"
              value="<%=product.category%>"
              aria-label="Floating label select example"
            >
              <option selected><%=product.category%></option>
              <% for (let key of category){%>

                <option value="<%=key.categoryname %>">
                  <%=key.categoryname %>
                </option>
                <%}%>
              <!-- <option value="Shirt">Shirt</option>
              <option value="T-Shirt">T-Shirt</option>
              <option value="Pants">Pants</option>
              <option value="Jeans">Jeans</option>
              <option value="Kurti And Suits">Kurti And Suits</option>
              <option value="Dresses">Dresses</option>
              <option value="Inner And Sleepwear">Inner And Sleepwear</option> -->
            </select>
            <label for="floatingSelect">Category</label>
          </div>
          <div class="form-floating mb-3">
            <select
              type="text"
              class="form-select"
              name="size"
              id="floatingSelect"
              value="<%=product.size%>"
              aria-label="Floating label select example"
            >
              <option selected><%=product.size%></option>
              <option value="XXXL">XXL</option>
              <option value="XXL">XXL</option>
              <option value="XL">XL</option>
              <option value="L">L</option>
              <option value="M">M</option>
              <option value="S">S</option>
              <option value="XS">XS</option>
            </select>
            <label for="floatingSelect">size</label>
          </div>
          <div class="form-floating mb-4">
            <input
              type="text"
              class="form-control"
              id="floatingPassword"
              name="description"
              value="<%=product.description%>"
              placeholder="Description"
              
            />
            <label for="floatingPassword">Description</label>
          </div>
          <div class="form-floating mb-3">
            <input
              type="number"
              class="form-control"
              id="floatingInput"
              name="rating"
              value="<%=product.rating%>"
              placeholder="Rating in percentage"
              
            />
            <label for="floatingInput">Rating in percentage</label>
          </div>
          <div class="mb-3">
            <label for="formFileMultiple" class="form-label"
              >Product image</label
            >
            <img src="/productImage/<%=product.image%>" width="100wh" height="auto" alt="" srcset="" id="imgView">
            <input
              class="form-control bg-dark"
              type="file"
              id="formFileMultiple"
              name="productimg"
              multiple
              onchange="viewImage(event)"
            >
          </div>
          <!-- <div class="d-flex align-items-center justify-content-between mb-4">
            <div class="form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="exampleCheck1"

              />
              <label class="form-check-label" for="exampleCheck1"
                >Check me out</label
              >
            </div>
          </div> -->
          <input type="hidden" name="id" value="<%= product._id %>">
          <button type="submit" class="btn btn-primary py-3 w-100 mb-4">
            edit Product
          </button>
          <% if(typeof message !== 'undefined') { %>
          <p style="color: red"><%= message %></p>
          <% } %>
        </form>
      </div>
    </div>
  </div>
</div>
<%-include('../partials/adminFooter.ejs') %>

<script>
  function viewImage(event) {
    document.getElementById('imgView').scr=URL.createObjectURL(event.target.files[0])
  }
</script>